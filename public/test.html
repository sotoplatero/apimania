<!doctype html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.5/styles/monokai.min.css">
    <script src="//unpkg.com/prettier@2.2.1/standalone.js"></script>
    <script src="//unpkg.com/prettier@2.2.1/parser-babel.js"></script>
    <script src="//unpkg.com/prettier@2.2.1/parser-html.js"></script>
    <script src="//unpkg.com/prettier@2.2.1/parser-postcss.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.0/highlight.min.js"></script>
    <style>
        pre {
            display: inline-block !important;
            font-size:1.2rem;
        }
    </style>
</head><body>
    <pre><code></code></pre>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {

            const urlParams = new URLSearchParams(window.location.search);
            const code = urlParams.get('code');
            const lang = urlParams.get('lang');
            const prettierLang = (lang === 'javascript') ? 'babel' : lang

            var prettierCode = prettier.format( code, {
                parser: prettierLang,
                plugins: prettierPlugins,
            });
    
            let preCode = document.querySelector('pre code')
            preCode.innerHTML = prettierCode;
            hljs.highlightBlock(preCode);
        })
    </script>
</body></html>